((X='wizz',O=Object,M=Math,B=M.abs)=>document.querySelectorAll(`[data-${X}]`).forEach((W,I,N,C=Array.from({length:6},c=>({x:0,y:0})),L=(e,g,m,a)=>{C.shift();C.push({x:g.pageX,y:g.pageY});W.dispatchEvent(new CustomEvent('clock-'+X,{detail:{mag:m=M.max(B(C[0].x-C[5].x),B(C[0].y-C[5].y)),dir:B(a=C.reduce((p,c,i,_,j=C[(i+1)%6])=>p+(j.x+c.x)*(j.y-c.y),0))/m/m>.2&&m>5&&C.every(c=>!!c.x)?M.sign(a):0,ref:e}}));},Z={mouse:e=>L(e,e),touch:e=>L(e,e.touches[0])},A=v=>{for(let z in Z){C=C.map(c=>({x:0,y:0}));window[(v?'add':'remove')+'EventListener'](z+'move',Z[z],{passive:0})}})=>W.addEventListener('able-'+X,e=>A(e.detail))))()